# DeepL Enhanced Translator

Улучшенная версия переводчика документов с расширенными функциями DeepL API.

## Ключевые улучшения

### 1. Расширенные возможности перевода
- **9 языковых направлений** (вместо 3 в оригинальной версии)
- **5 режимов качества перевода**:
  - Стандартное качество (быстро)
  - Высокое качество (формально)
  - Академический стиль (требует Pro подписку)
  - Бизнес стиль
  - Простой стиль

### 2. Система кэширования
- Автоматическое кэширование переводов для экономии API квоты
- Статистика использования кэша
- Возможность очистки кэша

### 3. Глоссарии для терминологической консистентности
- Создание и управление глоссариями
- Импорт глоссариев из файлов
- Применение глоссариев при переводе для сохранения специфической терминологии

### 4. Улучшенная обработка ошибок
- Автоматические повторные попытки при сбоях
- Детальная диагностика ошибок
- Защита от превышения лимитов API

### 5. Расширенная статистика
- Отслеживание количества переведенных документов
- Подсчет обработанных символов
- Мониторинг использования API квоты
- Эффективность кэша

### 6. Поддержка Write API (Pro)
- Автоматическое улучшение стиля перевода
- Академический стиль для научных работ
- Требует Pro подписку DeepL

## Установка и настройка

### Требования
```bash
pip install deepl>=1.23.0
pip install python-dotenv
pip install python-docx  # Опционально, для расширенной обработки DOCX
```

### Настройка API ключа
Создайте файл `.env` в директории скрипта:
```
DEEPL_API_KEY=your_api_key_here
```

## Использование

### Запуск скрипта
```bash
python3 deepl_enhanced_translator.py
```

### Главное меню
1. **Перевести один файл** - перевод отдельного документа с выбором настроек
2. **Перевести папку с файлами** - массовый перевод с сохранением структуры папок
3. **Управление глоссариями** - создание и импорт терминологических словарей
4. **Очистить кэш переводов** - удаление сохраненных переводов
5. **Показать статистику** - просмотр статистики использования
6. **Выход**

### Поддерживаемые форматы
- `.docx` - документы Word
- `.pdf` - PDF файлы
- `.html`, `.htm` - веб-страницы
- `.txt` - текстовые файлы

### Режимы качества

#### Стандартное качество
- Быстрый перевод
- Базовое сохранение форматирования
- Подходит для общих текстов

#### Высокое качество (формально)
- Формальный стиль
- Улучшенное сохранение форматирования
- Рекомендуется для официальных документов

#### Академический стиль (Pro)
- Специализированный стиль для научных работ
- Использует DeepL Write API
- Максимальная точность терминологии
- **Требует Pro подписку**

## Структура файлов

```
Translate Ai_MAIN/
├── deepl_enhanced_translator.py   # Новый улучшенный скрипт
├── deepl_simple_translator_simple.py  # Оригинальный скрипт (не изменен)
├── .env                           # Файл с API ключом
├── .translation_cache/           # Папка с кэшем переводов
│   ├── translations.json
│   └── stats.json
└── glossaries/                   # Папка с глоссариями
    └── *.json
```

## Примеры использования

### Перевод научной статьи
1. Запустите скрипт
2. Выберите "1" (Перевести один файл)
3. Укажите путь к документу
4. Выберите направление перевода (например, "1" для RU->EN-US)
5. Выберите качество "3" (Академический стиль) для научных работ
6. Опционально: примените глоссарий для сохранения терминологии

### Массовый перевод папки
1. Запустите скрипт
2. Выберите "2" (Перевести папку)
3. Укажите путь к папке с документами
4. Выберите настройки перевода
5. Скрипт создаст новую папку с переведенными файлами

### Создание глоссария
1. Выберите "3" (Управление глоссариями)
2. Выберите "2" (Создать новый глоссарий)
3. Введите термины в формате: `исходный_термин -> перевод`
4. Глоссарий будет сохранен и доступен для использования

## Отличия от оригинального скрипта

| Функция | Оригинальный | Улучшенный |
|---------|--------------|------------|
| Языковые пары | 3 | 9 |
| Режимы качества | 1 | 5 |
| Кэширование | Нет | Да |
| Глоссарии | Нет | Да |
| Write API | Нет | Да (Pro) |
| Повторные попытки | Нет | Да |
| Статистика | Минимальная | Расширенная |
| Форматы файлов | 4 | 5 |

## Рекомендации

### Для научных работ
- Используйте режим "Академический стиль" (требует Pro)
- Создайте глоссарий с ключевыми терминами
- Проверяйте переводы формул и специальных обозначений

### Для больших объемов
- Используйте функцию массового перевода папок
- Кэш автоматически сохранит повторяющиеся фрагменты
- Следите за лимитами API через статистику

### Для экономии квоты
- Включен автоматический кэш переводов
- Повторные переводы идентичных фрагментов не расходуют квоту
- Регулярно проверяйте статистику использования

## Поддержка

При возникновении проблем:
1. Проверьте правильность API ключа в файле `.env`
2. Убедитесь, что не превышен лимит символов
3. Проверьте подключение к интернету
4. Для Write API функций требуется Pro подписка

## Лицензия

Скрипт создан на основе `deepl_simple_translator_simple.py` с существенными улучшениями для научных переводов.